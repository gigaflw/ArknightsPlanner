# 明日方舟规划师

在手游《明日方舟》中，理智是珍惜的资源，而培养干员需要大量的理智。

本项目根据刀客塔们想要培养的干员，生成花费最少理智的计划，帮助刀客塔们最快地培养干员。

# 怎样使用
### 环境要求
你需要如下环境来运行本程序

* python >= 3.7
* scipy >= 1.3.0

### 使用步骤
1. 复制 `config.example.yaml` 至 `config.yaml`
2. 根据自己的情况，修改`config.yaml`，例如：

```yaml
规划设置:
  每日回体           : 240
  每日基建龙门币      : 45000
  每日基建中级作战录像 : 20

提升目标:
-
  干员: 初雪
  当前状态:
    等级: 1级
    技能: 1
  目标状态:
    等级: 精二 1级
    技能: 7, 10
-
  干员: 推王
  当前状态:
    等级: 精一 50级
    技能: 5
  目标状态:
    等级: 精二 1级
    技能: 7, 10, 7

持有道具:
  龙门币: 50.4w
  扭转醇: 200
```
3. 运行`$ python3 planner.py`，结果将出现在 `reports` 文件夹中，例如：

```
====================
结论
====================
 为完成目标，至少需要 29618 理智，共需 123.41 天的自然恢复

====================
材料清单
(结余 = 持有 + 获得 - 消耗 - 需求)
====================
需求    持有     获得      消耗      结余       材料名
 1234     0   1000.50    1000.00    234.50   1k龙门币
 4321     0   1000.50       0.00   5431.50   1k经验值
....

====================
规划路径
====================
重复次数   操作
  123.41  自然恢复 1 天
   24.12  资质凭证第二层 换 聚酸酯组
    2.06  高级凭证 换 三水锰矿
   13.36  加工站 造 D32钢
   25.17  GT-5
  113.30  GT-6
...
```
### 注意事项
* 本项目基于掉率期望和线性规划，所得结果为期望值。即，你可能需要花费更多（或更少）理智来获得罕见材料的掉落
* 基于上一点，你输入的干员提升计划越多，所需材料越多，结果越准确。如果你只输入了少量培养目标，请注意存在误差的可能性
* 本项目考虑了的材料来源：关卡掉落、基建、加工站、资质凭证兑换、高级凭证兑换（部分）、日常、周常、签到、公开招募（按只招到三星估计）
* 本项目没有考虑的材料来源：信用商店
* 本项目没有考虑以下材料：碳系列、基建材料系列、加急许可

# 鸣谢
感谢数据来源：

* 掉率统计：https://penguin-stats.io/
* 干员数据：http://wiki.joyme.com/arknights/
